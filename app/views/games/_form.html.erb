<%= form_with(model: game) do |form| %>
  <%= form_errors(game) %>

  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name %>
  </div>

  <div class="field">
    <%= form.label :llm_adapter, "AI Assistant" %>
    <% adapter_options = [["None", ""]] %>
    <% adapter_options += ["LLM::OpenAi"].map { |name| ["OpenAI", name] } %>
    <%= form.select :llm_adapter,
        options_for_select(adapter_options, game.llm_adapter),
        {},
        { class: "llm-adapter-select", data: { game_id: game.persisted? ? game.id : "new" } } %>
  </div>


  <div class="actions">
    <%= form.submit %>
    <% if game.persisted? && game.creating? && game.llm_adapter.present? %>
      <%= link_to "Configure with AI", game_configuration_path(game), class: "btn btn-secondary" %>
    <% end %>
  </div>
<% end %>


<style>
  .field {
    margin-bottom: 15px;
  }

  .field label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }

  .field input[type="text"],
  .field select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }

  .actions {
    display: flex;
    gap: 10px;
    align-items: center;
  }

  .btn-secondary {
    padding: 8px 16px;
    background-color: #6c757d;
    color: white;
    text-decoration: none;
    border-radius: 4px;
    border: none;
    cursor: pointer;
  }

  .btn-secondary:hover {
    background-color: #5a6268;
  }
</style>